{% assign post = include.post %}
{% assign words = post.content | number_of_words %}
{% assign read_time = words | divided_by: 200 %}
{% if read_time < 1 %}{% assign read_time = 1 %}{% endif %}
{% assign category = post.categories[0] | default: 'Dev' %}
{% assign cat_class = category | downcase %}

<article class="post-card cat-border-{{ cat_class }}"
  data-category="{{ category }}"
  data-tags="{{ post.tags | join: ',' }}">
  <a href="{{ post.url | relative_url }}" class="card-inner">
    <div class="card-top">
      <span class="cat-badge cat-{{ cat_class }}">{{ category }}</span>
      <span class="read-time">{{ read_time }}분 읽기</span>
    </div>
    <h3 class="card-title">{{ post.title }}</h3>
    <p class="card-excerpt">
      {%- if post.description -%}
        {{ post.description | truncate: 100 }}
      {%- elsif post.excerpt -%}
        {{ post.excerpt | strip_html | strip_newlines | truncate: 100 }}
      {%- endif -%}
    </p>
    <div class="card-meta">
      <time datetime="{{ post.date | date: '%Y-%m-%d' }}">{{ post.date | date: "%Y.%m.%d" }}</time>
      {% if post.tags.size > 0 %}
      <div class="card-tags">
        {% for tag in post.tags limit: 3 %}
        <span class="tag">{{ tag }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </a>
</article>
